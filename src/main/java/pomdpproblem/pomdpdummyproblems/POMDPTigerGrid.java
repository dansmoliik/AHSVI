package pomdpproblem.pomdpdummyproblems;

import pomdpproblem.POMDPProblem;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Iterator;

public class POMDPTigerGrid implements POMDPDummyProblemI {
    @Override
    public POMDPProblem load() {
        // pomdpproblem input format
        // transition probabilities ap[a][s][s_]
        // obsrevation probabilities op[a][s_][o]
        // rewards r[a][s][s_][o]

	    int statesCount = 36;
	    int actionsCount = 5;
	    int observationsCount = 17;

	    ArrayList<String> stateNames = new ArrayList<>();
	    HashMap<String, Integer> stateNameToIndex = new HashMap<>();
	    ArrayList<String> actionNames = new ArrayList<>();
	    HashMap<String, Integer> actionNameToIndex = new HashMap<>();
	    double[][][] transitionProbabilities = new double[actionsCount][statesCount][statesCount];
	    ArrayList<String> observationNames = new ArrayList<>();
	    HashMap<String, Integer> observationNameToIndex = new HashMap<>();
	    double[][][] observationProbabilities = new double[actionsCount][statesCount][observationsCount];
	    double[][][][] rewards = new double[actionsCount][statesCount][statesCount][observationsCount];
	    double discount;
	    double[] initBelief = new double[statesCount];

	    // preamble
	    discount = 0.95;

	    // identity state names
	    for (int i = 0; i < statesCount; ++i) {
	    	stateNames.add(i + "");
		    stateNameToIndex.put(stateNames.get(i), i);
	    }

	    // ideneity action names
	    for (int i = 0; i < actionsCount; ++i) {
		    actionNames.add(i + "");
		    actionNameToIndex.put(actionNames.get(i), i);
	    }

	    // identity observation name
	    for (int i = 0; i < observationsCount; ++i) {
		    observationNames.add(i + "");
		    observationNameToIndex.put(observationNames.get(i), i);
	    }

	    // pomdp body
		String body1 = "T: 0 : 0 : 0 1.000000\n"+
										"T: 1 : 0 : 5 0.050000\n"+
										"T: 1 : 0 : 20 0.025000\n"+
										"T: 1 : 0 : 22 0.025000\n"+
										"T: 1 : 0 : 0 0.900000\n"+
										"T: 2 : 0 : 0 0.100000\n"+
										"T: 2 : 0 : 1 0.700000\n"+
										"T: 2 : 0 : 2 0.100000\n"+
										"T: 2 : 0 : 3 0.100000\n"+
										"T: 3 : 0 : 0 0.100000\n"+
										"T: 3 : 0 : 1 0.150000\n"+
										"T: 3 : 0 : 2 0.600000\n"+
										"T: 3 : 0 : 3 0.150000\n"+
										"T: 4 : 0 : 0 0.100000\n"+
										"T: 4 : 0 : 1 0.100000\n"+
										"T: 4 : 0 : 2 0.100000\n"+
										"T: 4 : 0 : 3 0.700000\n"+
										"T: 0 : 1 : 1 1.000000\n"+
										"T: 1 : 1 : 5 0.800000\n"+
										"T: 1 : 1 : 22 0.050000\n"+
										"T: 1 : 1 : 1 0.150000\n"+
										"T: 2 : 1 : 0 0.100000\n"+
										"T: 2 : 1 : 1 0.100000\n"+
										"T: 2 : 1 : 2 0.700000\n"+
										"T: 2 : 1 : 3 0.100000\n"+
										"T: 3 : 1 : 0 0.150000\n"+
										"T: 3 : 1 : 1 0.100000\n"+
										"T: 3 : 1 : 2 0.150000\n"+
										"T: 3 : 1 : 3 0.600000\n"+
										"T: 4 : 1 : 0 0.700000\n"+
										"T: 4 : 1 : 1 0.100000\n"+
										"T: 4 : 1 : 2 0.100000\n"+
										"T: 4 : 1 : 3 0.100000\n"+
										"T: 0 : 2 : 2 1.000000\n"+
										"T: 1 : 2 : 5 0.050000\n"+
										"T: 1 : 2 : 22 0.800000\n"+
										"T: 1 : 2 : 2 0.150000\n"+
										"T: 2 : 2 : 0 0.100000\n"+
										"T: 2 : 2 : 1 0.100000\n"+
										"T: 2 : 2 : 2 0.100000\n"+
										"T: 2 : 2 : 3 0.700000\n"+
										"T: 3 : 2 : 0 0.600000\n"+
										"T: 3 : 2 : 1 0.150000\n"+
										"T: 3 : 2 : 2 0.100000\n"+
										"T: 3 : 2 : 3 0.150000\n"+
										"T: 4 : 2 : 0 0.100000\n"+
										"T: 4 : 2 : 1 0.700000\n"+
										"T: 4 : 2 : 2 0.100000\n"+
										"T: 4 : 2 : 3 0.100000\n"+
										"T: 0 : 3 : 3 1.000000\n"+
										"T: 1 : 3 : 5 0.025000\n"+
										"T: 1 : 3 : 7 0.025000\n"+
										"T: 1 : 3 : 22 0.050000\n"+
										"T: 1 : 3 : 3 0.900000\n"+
										"T: 2 : 3 : 0 0.700000\n"+
										"T: 2 : 3 : 1 0.100000\n"+
										"T: 2 : 3 : 2 0.100000\n"+
										"T: 2 : 3 : 3 0.100000\n"+
										"T: 3 : 3 : 0 0.150000\n"+
										"T: 3 : 3 : 1 0.600000\n"+
										"T: 3 : 3 : 2 0.150000\n"+
										"T: 3 : 3 : 3 0.100000\n"+
										"T: 4 : 3 : 0 0.100000\n"+
										"T: 4 : 3 : 1 0.100000\n"+
										"T: 4 : 3 : 2 0.700000\n"+
										"T: 4 : 3 : 3 0.100000\n"+
										"T: 0 : 4 : 4 1.000000\n"+
										"T: 1 : 4 : 9 0.050000\n"+
										"T: 1 : 4 : 24 0.025000\n"+
										"T: 1 : 4 : 26 0.025000\n"+
										"T: 1 : 4 : 3 0.050000\n"+
										"T: 1 : 4 : 4 0.850000\n"+
										"T: 2 : 4 : 4 0.100000\n"+
										"T: 2 : 4 : 5 0.700000\n"+
										"T: 2 : 4 : 6 0.100000\n"+
										"T: 2 : 4 : 7 0.100000\n"+
										"T: 3 : 4 : 4 0.100000\n"+
										"T: 3 : 4 : 5 0.150000\n"+
										"T: 3 : 4 : 6 0.600000\n"+
										"T: 3 : 4 : 7 0.150000\n"+
										"T: 4 : 4 : 4 0.100000\n"+
										"T: 4 : 4 : 5 0.100000\n"+
										"T: 4 : 4 : 6 0.100000\n"+
										"T: 4 : 4 : 7 0.700000\n"+
										"T: 0 : 5 : 5 1.000000\n"+
										"T: 1 : 5 : 9 0.800000\n"+
										"T: 1 : 5 : 26 0.050000\n"+
										"T: 1 : 5 : 1 0.025000\n"+
										"T: 1 : 5 : 3 0.025000\n"+
										"T: 1 : 5 : 5 0.100000\n"+
										"T: 2 : 5 : 4 0.100000\n"+
										"T: 2 : 5 : 5 0.100000\n"+
										"T: 2 : 5 : 6 0.700000\n"+
										"T: 2 : 5 : 7 0.100000\n"+
										"T: 3 : 5 : 4 0.150000\n"+
										"T: 3 : 5 : 5 0.100000\n"+
										"T: 3 : 5 : 6 0.150000\n"+
										"T: 3 : 5 : 7 0.600000\n"+
										"T: 4 : 5 : 4 0.700000\n"+
										"T: 4 : 5 : 5 0.100000\n"+
										"T: 4 : 5 : 6 0.100000\n"+
										"T: 4 : 5 : 7 0.100000\n"+
										"T: 0 : 6 : 6 1.000000\n"+
										"T: 1 : 6 : 9 0.050000\n"+
										"T: 1 : 6 : 26 0.800000\n"+
										"T: 1 : 6 : 3 0.050000\n"+
										"T: 1 : 6 : 6 0.100000\n"+
										"T: 2 : 6 : 4 0.100000\n"+
										"T: 2 : 6 : 5 0.100000\n"+
										"T: 2 : 6 : 6 0.100000\n"+
										"T: 2 : 6 : 7 0.700000\n"+
										"T: 3 : 6 : 4 0.600000\n"+
										"T: 3 : 6 : 5 0.150000\n"+
										"T: 3 : 6 : 6 0.100000\n"+
										"T: 3 : 6 : 7 0.150000\n"+
										"T: 4 : 6 : 4 0.100000\n"+
										"T: 4 : 6 : 5 0.700000\n"+
										"T: 4 : 6 : 6 0.100000\n"+
										"T: 4 : 6 : 7 0.100000\n"+
										"T: 0 : 7 : 7 1.000000\n"+
										"T: 1 : 7 : 9 0.025000\n"+
										"T: 1 : 7 : 11 0.025000\n"+
										"T: 1 : 7 : 26 0.050000\n"+
										"T: 1 : 7 : 3 0.800000\n"+
										"T: 1 : 7 : 7 0.100000\n"+
										"T: 2 : 7 : 4 0.700000\n"+
										"T: 2 : 7 : 5 0.100000\n"+
										"T: 2 : 7 : 6 0.100000\n"+
										"T: 2 : 7 : 7 0.100000\n"+
										"T: 3 : 7 : 4 0.150000\n"+
										"T: 3 : 7 : 5 0.600000\n"+
										"T: 3 : 7 : 6 0.150000\n"+
										"T: 3 : 7 : 7 0.100000\n"+
										"T: 4 : 7 : 4 0.100000\n"+
										"T: 4 : 7 : 5 0.100000\n"+
										"T: 4 : 7 : 6 0.700000\n"+
										"T: 4 : 7 : 7 0.100000\n"+
	            "T: 0 : 12 : 12 1.000000\n"+
					    "T: 1 : 12 : 17 0.050000\n"+
					    "T: 1 : 12 : 28 0.025000\n"+
					    "T: 1 : 12 : 30 0.025000\n"+
					    "T: 1 : 12 : 11 0.050000\n"+
					    "T: 1 : 12 : 12 0.850000\n"+
					    "T: 2 : 12 : 12 0.100000\n"+
					    "T: 2 : 12 : 13 0.700000\n"+
					    "T: 2 : 12 : 14 0.100000\n"+
					    "T: 2 : 12 : 15 0.100000\n"+
					    "T: 3 : 12 : 12 0.100000\n"+
					    "T: 3 : 12 : 13 0.150000\n"+
					    "T: 3 : 12 : 14 0.600000\n"+
					    "T: 3 : 12 : 15 0.150000\n"+
					    "T: 4 : 12 : 12 0.100000\n"+
					    "T: 4 : 12 : 13 0.100000\n"+
					    "T: 4 : 12 : 14 0.100000\n"+
					    "T: 4 : 12 : 15 0.700000\n"+
					    "T: 0 : 13 : 13 1.000000\n"+
					    "T: 1 : 13 : 17 0.800000\n"+
					    "T: 1 : 13 : 30 0.050000\n"+
					    "T: 1 : 13 : 9 0.025000\n"+
					    "T: 1 : 13 : 11 0.025000\n"+
					    "T: 1 : 13 : 13 0.100000\n"+
					    "T: 2 : 13 : 12 0.100000\n"+
					    "T: 2 : 13 : 13 0.100000\n"+
					    "T: 2 : 13 : 14 0.700000\n"+
					    "T: 2 : 13 : 15 0.100000\n"+
					    "T: 3 : 13 : 12 0.150000\n"+
					    "T: 3 : 13 : 13 0.100000\n"+
					    "T: 3 : 13 : 14 0.150000\n"+
					    "T: 3 : 13 : 15 0.600000\n"+
					    "T: 4 : 13 : 12 0.700000\n"+
					    "T: 4 : 13 : 13 0.100000\n"+
					    "T: 4 : 13 : 14 0.100000\n"+
					    "T: 4 : 13 : 15 0.100000\n"+
					    "T: 0 : 14 : 14 1.000000\n"+
					    "T: 1 : 14 : 17 0.050000\n"+
					    "T: 1 : 14 : 30 0.800000\n"+
					    "T: 1 : 14 : 11 0.050000\n"+
					    "T: 1 : 14 : 14 0.100000\n"+
					    "T: 2 : 14 : 12 0.100000\n"+
					    "T: 2 : 14 : 13 0.100000\n"+
					    "T: 2 : 14 : 14 0.100000\n"+
					    "T: 2 : 14 : 15 0.700000\n"+
					    "T: 3 : 14 : 12 0.600000\n"+
					    "T: 3 : 14 : 13 0.150000\n"+
					    "T: 3 : 14 : 14 0.100000\n"+
					    "T: 3 : 14 : 15 0.150000\n"+
					    "T: 4 : 14 : 12 0.100000\n"+
					    "T: 4 : 14 : 13 0.700000\n"+
					    "T: 4 : 14 : 14 0.100000\n"+
					    "T: 4 : 14 : 15 0.100000\n"+
					    "T: 0 : 15 : 15 1.000000\n"+
					    "T: 1 : 15 : 17 0.025000\n"+
					    "T: 1 : 15 : 19 0.025000\n"+
					    "T: 1 : 15 : 30 0.050000\n"+
					    "T: 1 : 15 : 11 0.800000\n"+
					    "T: 1 : 15 : 15 0.100000\n"+
					    "T: 2 : 15 : 12 0.700000\n"+
					    "T: 2 : 15 : 13 0.100000\n"+
					    "T: 2 : 15 : 14 0.100000\n"+
					    "T: 2 : 15 : 15 0.100000\n"+
					    "T: 3 : 15 : 12 0.150000\n"+
					    "T: 3 : 15 : 13 0.600000\n"+
					    "T: 3 : 15 : 14 0.150000\n"+
					    "T: 3 : 15 : 15 0.100000\n"+
					    "T: 4 : 15 : 12 0.100000\n"+
					    "T: 4 : 15 : 13 0.100000\n"+
					    "T: 4 : 15 : 14 0.700000\n"+
					    "T: 4 : 15 : 15 0.100000\n"+
					    "T: 0 : 16 : 16 1.000000\n"+
					    "T: 1 : 16 : 32 0.025000\n"+
					    "T: 1 : 16 : 34 0.025000\n"+
					    "T: 1 : 16 : 15 0.050000\n"+
					    "T: 1 : 16 : 16 0.900000\n"+
					    "T: 2 : 16 : 16 0.100000\n"+
					    "T: 2 : 16 : 17 0.700000\n"+
					    "T: 2 : 16 : 18 0.100000\n"+
					    "T: 2 : 16 : 19 0.100000\n"+
					    "T: 3 : 16 : 16 0.100000\n"+
					    "T: 3 : 16 : 17 0.150000\n"+
					    "T: 3 : 16 : 18 0.600000\n"+
					    "T: 3 : 16 : 19 0.150000\n"+
					    "T: 4 : 16 : 16 0.100000\n"+
					    "T: 4 : 16 : 17 0.100000\n"+
					    "T: 4 : 16 : 18 0.100000\n"+
					    "T: 4 : 16 : 19 0.700000\n"+
					    "T: 0 : 17 : 17 1.000000\n"+
					    "T: 1 : 17 : 34 0.050000\n"+
					    "T: 1 : 17 : 13 0.025000\n"+
					    "T: 1 : 17 : 15 0.025000\n"+
					    "T: 1 : 17 : 17 0.900000\n"+
					    "T: 2 : 17 : 16 0.100000\n"+
					    "T: 2 : 17 : 17 0.100000\n"+
					    "T: 2 : 17 : 18 0.700000\n"+
					    "T: 2 : 17 : 19 0.100000\n"+
					    "T: 3 : 17 : 16 0.150000\n"+
					    "T: 3 : 17 : 17 0.100000\n"+
					    "T: 3 : 17 : 18 0.150000\n"+
					    "T: 3 : 17 : 19 0.600000\n"+
					    "T: 4 : 17 : 16 0.700000\n"+
					    "T: 4 : 17 : 17 0.100000\n"+
					    "T: 4 : 17 : 18 0.100000\n"+
					    "T: 4 : 17 : 19 0.100000\n"+
					    "T: 0 : 18 : 18 1.000000\n"+
					    "T: 1 : 18 : 34 0.800000\n"+
					    "T: 1 : 18 : 15 0.050000\n"+
					    "T: 1 : 18 : 18 0.150000\n"+
					    "T: 2 : 18 : 16 0.100000\n"+
					    "T: 2 : 18 : 17 0.100000\n"+
					    "T: 2 : 18 : 18 0.100000\n"+
					    "T: 2 : 18 : 19 0.700000\n"+
					    "T: 3 : 18 : 16 0.600000\n"+
					    "T: 3 : 18 : 17 0.150000\n"+
					    "T: 3 : 18 : 18 0.100000\n"+
					    "T: 3 : 18 : 19 0.150000\n"+
					    "T: 4 : 18 : 16 0.100000\n"+
					    "T: 4 : 18 : 17 0.700000\n"+
					    "T: 4 : 18 : 18 0.100000\n"+
					    "T: 4 : 18 : 19 0.100000\n"+
					    "T: 0 : 19 : 19 1.000000\n"+
					    "T: 1 : 19 : 34 0.050000\n"+
					    "T: 1 : 19 : 15 0.800000\n"+
					    "T: 1 : 19 : 19 0.150000\n"+
					    "T: 2 : 19 : 16 0.700000\n"+
					    "T: 2 : 19 : 17 0.100000\n"+
					    "T: 2 : 19 : 18 0.100000\n"+
					    "T: 2 : 19 : 19 0.100000\n"+
					    "T: 3 : 19 : 16 0.150000\n"+
					    "T: 3 : 19 : 17 0.600000\n"+
					    "T: 3 : 19 : 18 0.150000\n"+
					    "T: 3 : 19 : 19 0.100000\n"+
					    "T: 4 : 19 : 16 0.100000\n"+
					    "T: 4 : 19 : 17 0.100000\n"+
					    "T: 4 : 19 : 18 0.700000\n"+
					    "T: 4 : 19 : 19 0.100000\n"+
					    "T: 0 : 20 : 20 1.000000\n"+
					    "T: 1 : 20 : 0 0.800000\n"+
					    "T: 1 : 20 : 25 0.050000\n"+
					    "T: 1 : 20 : 20 0.150000\n"+
					    "T: 2 : 20 : 20 0.100000\n"+
					    "T: 2 : 20 : 21 0.700000\n"+
					    "T: 2 : 20 : 22 0.100000\n"+
					    "T: 2 : 20 : 23 0.100000\n"+
					    "T: 3 : 20 : 20 0.100000\n"+
					    "T: 3 : 20 : 21 0.150000\n"+
					    "T: 3 : 20 : 22 0.600000\n"+
					    "T: 3 : 20 : 23 0.150000\n"+
					    "T: 4 : 20 : 20 0.100000\n"+
					    "T: 4 : 20 : 21 0.100000\n"+
					    "T: 4 : 20 : 22 0.100000\n"+
					    "T: 4 : 20 : 23 0.700000\n"+
					    "T: 0 : 21 : 21 1.000000\n"+
					    "T: 1 : 21 : 0 0.050000\n"+
					    "T: 1 : 21 : 25 0.800000\n"+
					    "T: 1 : 21 : 21 0.150000\n"+
					    "T: 2 : 21 : 20 0.100000\n"+
					    "T: 2 : 21 : 21 0.100000\n"+
					    "T: 2 : 21 : 22 0.700000\n"+
					    "T: 2 : 21 : 23 0.100000\n"+
					    "T: 3 : 21 : 20 0.150000\n"+
					    "T: 3 : 21 : 21 0.100000\n"+
					    "T: 3 : 21 : 22 0.150000\n"+
					    "T: 3 : 21 : 23 0.600000\n"+
					    "T: 4 : 21 : 20 0.700000\n"+
					    "T: 4 : 21 : 21 0.100000\n"+
					    "T: 4 : 21 : 22 0.100000\n"+
					    "T: 4 : 21 : 23 0.100000\n"+
					    "T: 0 : 22 : 22 1.000000\n"+
					    "T: 1 : 22 : 0 0.025000\n"+
					    "T: 1 : 22 : 2 0.025000\n"+
					    "T: 1 : 22 : 25 0.050000\n"+
					    "T: 1 : 22 : 22 0.900000\n"+
					    "T: 2 : 22 : 20 0.100000\n"+
					    "T: 2 : 22 : 21 0.100000\n"+
					    "T: 2 : 22 : 22 0.100000\n"+
					    "T: 2 : 22 : 23 0.700000\n"+
					    "T: 3 : 22 : 20 0.600000\n"+
					    "T: 3 : 22 : 21 0.150000\n"+
					    "T: 3 : 22 : 22 0.100000\n"+
					    "T: 3 : 22 : 23 0.150000\n"+
					    "T: 4 : 22 : 20 0.100000\n"+
					    "T: 4 : 22 : 21 0.700000\n"+
					    "T: 4 : 22 : 22 0.100000\n"+
					    "T: 4 : 22 : 23 0.100000\n"+
					    "T: 0 : 23 : 23 1.000000\n"+
					    "T: 1 : 23 : 0 0.050000\n"+
					    "T: 1 : 23 : 25 0.025000\n"+
					    "T: 1 : 23 : 27 0.025000\n"+
					    "T: 1 : 23 : 23 0.900000\n"+
					    "T: 2 : 23 : 20 0.700000\n"+
					    "T: 2 : 23 : 21 0.100000\n"+
					    "T: 2 : 23 : 22 0.100000\n"+
					    "T: 2 : 23 : 23 0.100000\n"+
					    "T: 3 : 23 : 20 0.150000\n"+
					    "T: 3 : 23 : 21 0.600000\n"+
					    "T: 3 : 23 : 22 0.150000\n"+
					    "T: 3 : 23 : 23 0.100000\n"+
					    "T: 4 : 23 : 20 0.100000\n"+
					    "T: 4 : 23 : 21 0.100000\n"+
					    "T: 4 : 23 : 22 0.700000\n"+
					    "T: 4 : 23 : 23 0.100000\n"+
					    "T: 0 : 24 : 24 1.000000\n"+
					    "T: 1 : 24 : 4 0.800000\n"+
					    "T: 1 : 24 : 23 0.050000\n"+
					    "T: 1 : 24 : 24 0.150000\n"+
					    "T: 2 : 24 : 24 0.100000\n"+
					    "T: 2 : 24 : 25 0.700000\n"+
					    "T: 2 : 24 : 26 0.100000\n"+
					    "T: 2 : 24 : 27 0.100000\n"+
					    "T: 3 : 24 : 24 0.100000\n"+
					    "T: 3 : 24 : 25 0.150000\n"+
					    "T: 3 : 24 : 26 0.600000\n"+
					    "T: 3 : 24 : 27 0.150000\n"+
					    "T: 4 : 24 : 24 0.100000\n"+
					    "T: 4 : 24 : 25 0.100000\n"+
					    "T: 4 : 24 : 26 0.100000\n"+
					    "T: 4 : 24 : 27 0.700000\n"+
					    "T: 0 : 25 : 25 1.000000\n"+
					    "T: 1 : 25 : 4 0.050000\n"+
					    "T: 1 : 25 : 21 0.025000\n"+
					    "T: 1 : 25 : 23 0.025000\n"+
					    "T: 1 : 25 : 25 0.900000\n"+
					    "T: 2 : 25 : 24 0.100000\n"+
					    "T: 2 : 25 : 25 0.100000\n"+
					    "T: 2 : 25 : 26 0.700000\n"+
					    "T: 2 : 25 : 27 0.100000\n"+
					    "T: 3 : 25 : 24 0.150000\n"+
					    "T: 3 : 25 : 25 0.100000\n"+
					    "T: 3 : 25 : 26 0.150000\n"+
					    "T: 3 : 25 : 27 0.600000\n"+
					    "T: 4 : 25 : 24 0.700000\n"+
					    "T: 4 : 25 : 25 0.100000\n"+
					    "T: 4 : 25 : 26 0.100000\n"+
					    "T: 4 : 25 : 27 0.100000\n"+
					    "T: 0 : 26 : 26 1.000000\n"+
					    "T: 1 : 26 : 4 0.025000\n"+
					    "T: 1 : 26 : 6 0.025000\n"+
					    "T: 1 : 26 : 23 0.050000\n"+
					    "T: 1 : 26 : 26 0.900000\n"+
					    "T: 2 : 26 : 24 0.100000\n"+
					    "T: 2 : 26 : 25 0.100000\n"+
					    "T: 2 : 26 : 26 0.100000\n"+
					    "T: 2 : 26 : 27 0.700000\n"+
					    "T: 3 : 26 : 24 0.600000\n"+
					    "T: 3 : 26 : 25 0.150000\n"+
					    "T: 3 : 26 : 26 0.100000\n"+
					    "T: 3 : 26 : 27 0.150000\n"+
					    "T: 4 : 26 : 24 0.100000\n"+
					    "T: 4 : 26 : 25 0.700000\n"+
					    "T: 4 : 26 : 26 0.100000\n"+
					    "T: 4 : 26 : 27 0.100000\n"+
					    "T: 0 : 27 : 27 1.000000\n"+
					    "T: 1 : 27 : 4 0.050000\n"+
					    "T: 1 : 27 : 23 0.800000\n"+
					    "T: 1 : 27 : 27 0.150000\n"+
					    "T: 2 : 27 : 24 0.700000\n"+
					    "T: 2 : 27 : 25 0.100000\n"+
					    "T: 2 : 27 : 26 0.100000\n"+
					    "T: 2 : 27 : 27 0.100000\n"+
					    "T: 3 : 27 : 24 0.150000\n"+
					    "T: 3 : 27 : 25 0.600000\n"+
					    "T: 3 : 27 : 26 0.150000\n"+
					    "T: 3 : 27 : 27 0.100000\n"+
					    "T: 4 : 27 : 24 0.100000\n"+
					    "T: 4 : 27 : 25 0.100000\n"+
					    "T: 4 : 27 : 26 0.700000\n"+
					    "T: 4 : 27 : 27 0.100000\n"+
					    "T: 0 : 28 : 28 1.000000\n"+
					    "T: 1 : 28 : 12 0.800000\n"+
					    "T: 1 : 28 : 33 0.050000\n"+
					    "T: 1 : 28 : 28 0.150000\n"+
					    "T: 2 : 28 : 28 0.100000\n"+
					    "T: 2 : 28 : 29 0.700000\n"+
					    "T: 2 : 28 : 30 0.100000\n"+
					    "T: 2 : 28 : 31 0.100000\n"+
					    "T: 3 : 28 : 28 0.100000\n"+
					    "T: 3 : 28 : 29 0.150000\n"+
					    "T: 3 : 28 : 30 0.600000\n"+
					    "T: 3 : 28 : 31 0.150000\n"+
					    "T: 4 : 28 : 28 0.100000\n"+
					    "T: 4 : 28 : 29 0.100000\n"+
					    "T: 4 : 28 : 30 0.100000\n"+
					    "T: 4 : 28 : 31 0.700000\n"+
					    "T: 0 : 29 : 29 1.000000\n"+
					    "T: 1 : 29 : 12 0.050000\n"+
					    "T: 1 : 29 : 33 0.800000\n"+
					    "T: 1 : 29 : 29 0.150000\n"+
					    "T: 2 : 29 : 28 0.100000\n"+
					    "T: 2 : 29 : 29 0.100000\n"+
					    "T: 2 : 29 : 30 0.700000\n"+
					    "T: 2 : 29 : 31 0.100000\n"+
					    "T: 3 : 29 : 28 0.150000\n"+
					    "T: 3 : 29 : 29 0.100000\n"+
					    "T: 3 : 29 : 30 0.150000\n"+
					    "T: 3 : 29 : 31 0.600000\n"+
					    "T: 4 : 29 : 28 0.700000\n"+
					    "T: 4 : 29 : 29 0.100000\n"+
					    "T: 4 : 29 : 30 0.100000\n"+
					    "T: 4 : 29 : 31 0.100000\n"+
					    "T: 0 : 30 : 30 1.000000\n"+
					    "T: 1 : 30 : 12 0.025000\n"+
					    "T: 1 : 30 : 14 0.025000\n"+
					    "T: 1 : 30 : 33 0.050000\n"+
					    "T: 1 : 30 : 30 0.900000\n"+
					    "T: 2 : 30 : 28 0.100000\n"+
					    "T: 2 : 30 : 29 0.100000\n"+
					    "T: 2 : 30 : 30 0.100000\n"+
					    "T: 2 : 30 : 31 0.700000\n"+
					    "T: 3 : 30 : 28 0.600000\n"+
					    "T: 3 : 30 : 29 0.150000\n"+
					    "T: 3 : 30 : 30 0.100000\n"+
					    "T: 3 : 30 : 31 0.150000\n"+
					    "T: 4 : 30 : 28 0.100000\n"+
					    "T: 4 : 30 : 29 0.700000\n"+
					    "T: 4 : 30 : 30 0.100000\n"+
					    "T: 4 : 30 : 31 0.100000\n"+
					    "T: 0 : 31 : 31 1.000000\n"+
					    "T: 1 : 31 : 12 0.050000\n"+
					    "T: 1 : 31 : 33 0.025000\n"+
					    "T: 1 : 31 : 35 0.025000\n"+
					    "T: 1 : 31 : 31 0.900000\n"+
					    "T: 2 : 31 : 28 0.700000\n"+
					    "T: 2 : 31 : 29 0.100000\n"+
					    "T: 2 : 31 : 30 0.100000\n"+
					    "T: 2 : 31 : 31 0.100000\n"+
					    "T: 3 : 31 : 28 0.150000\n"+
					    "T: 3 : 31 : 29 0.600000\n"+
					    "T: 3 : 31 : 30 0.150000\n"+
					    "T: 3 : 31 : 31 0.100000\n"+
					    "T: 4 : 31 : 28 0.100000\n"+
					    "T: 4 : 31 : 29 0.100000\n"+
					    "T: 4 : 31 : 30 0.700000\n"+
					    "T: 4 : 31 : 31 0.100000\n"+
					    "T: 0 : 32 : 32 1.000000\n"+
					    "T: 1 : 32 : 16 0.800000\n"+
					    "T: 1 : 32 : 31 0.050000\n"+
					    "T: 1 : 32 : 32 0.150000\n"+
					    "T: 2 : 32 : 32 0.100000\n"+
					    "T: 2 : 32 : 33 0.700000\n"+
					    "T: 2 : 32 : 34 0.100000\n"+
					    "T: 2 : 32 : 35 0.100000\n"+
					    "T: 3 : 32 : 32 0.100000\n"+
					    "T: 3 : 32 : 33 0.150000\n"+
					    "T: 3 : 32 : 34 0.600000\n"+
					    "T: 3 : 32 : 35 0.150000\n"+
					    "T: 4 : 32 : 32 0.100000\n"+
					    "T: 4 : 32 : 33 0.100000\n"+
					    "T: 4 : 32 : 34 0.100000\n"+
					    "T: 4 : 32 : 35 0.700000\n"+
					    "T: 0 : 33 : 33 1.000000\n"+
					    "T: 1 : 33 : 16 0.050000\n"+
					    "T: 1 : 33 : 29 0.025000\n"+
					    "T: 1 : 33 : 31 0.025000\n"+
					    "T: 1 : 33 : 33 0.900000\n"+
					    "T: 2 : 33 : 32 0.100000\n"+
					    "T: 2 : 33 : 33 0.100000\n"+
					    "T: 2 : 33 : 34 0.700000\n"+
					    "T: 2 : 33 : 35 0.100000\n"+
					    "T: 3 : 33 : 32 0.150000\n"+
					    "T: 3 : 33 : 33 0.100000\n"+
					    "T: 3 : 33 : 34 0.150000\n"+
					    "T: 3 : 33 : 35 0.600000\n"+
					    "T: 4 : 33 : 32 0.700000\n"+
					    "T: 4 : 33 : 33 0.100000\n"+
					    "T: 4 : 33 : 34 0.100000\n"+
					    "T: 4 : 33 : 35 0.100000\n"+
					    "T: 0 : 34 : 34 1.000000\n"+
					    "T: 1 : 34 : 16 0.025000\n"+
					    "T: 1 : 34 : 18 0.025000\n"+
					    "T: 1 : 34 : 31 0.050000\n"+
					    "T: 1 : 34 : 34 0.900000\n"+
					    "T: 2 : 34 : 32 0.100000\n"+
					    "T: 2 : 34 : 33 0.100000\n"+
					    "T: 2 : 34 : 34 0.100000\n"+
					    "T: 2 : 34 : 35 0.700000\n"+
					    "T: 3 : 34 : 32 0.600000\n"+
					    "T: 3 : 34 : 33 0.150000\n"+
					    "T: 3 : 34 : 34 0.100000\n"+
					    "T: 3 : 34 : 35 0.150000\n"+
					    "T: 4 : 34 : 32 0.100000\n"+
					    "T: 4 : 34 : 33 0.700000\n"+
					    "T: 4 : 34 : 34 0.100000\n"+
					    "T: 4 : 34 : 35 0.100000\n"+
					    "T: 0 : 35 : 35 1.000000\n"+
					    "T: 1 : 35 : 16 0.050000\n"+
					    "T: 1 : 35 : 31 0.800000\n"+
					    "T: 1 : 35 : 35 0.150000\n"+
					    "T: 2 : 35 : 32 0.700000\n"+
					    "T: 2 : 35 : 33 0.100000\n"+
					    "T: 2 : 35 : 34 0.100000\n"+
					    "T: 2 : 35 : 35 0.100000\n"+
					    "T: 3 : 35 : 32 0.150000\n"+
					    "T: 3 : 35 : 33 0.600000\n"+
					    "T: 3 : 35 : 34 0.150000\n"+
					    "T: 3 : 35 : 35 0.100000\n"+
					    "T: 4 : 35 : 32 0.100000\n"+
					    "T: 4 : 35 : 33 0.100000\n"+
					    "T: 4 : 35 : 34 0.700000\n"+
					    "T: 4 : 35 : 35 0.100000";

	    for (String line : body1.split("\n")) {
		    String[] split = line.split("(\\s+[ :]*)|([ :]*\\s+)");
		    transitionProbabilities[Integer.parseInt(split[1])][Integer.parseInt(split[2])][Integer.parseInt(split[3])] = Double.parseDouble(split[4]);
	    }
//	    System.out.println(Arrays.toString(body1.split("\n")));

	    setTwithStar(statesCount, actionsCount, transitionProbabilities, 8, "0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.5 0.0 0.0 0.0 0.5 0.0 0.0 0.0 0.0 0.0 0.0 0.0".split("\\s"));
	    setTwithStar(statesCount, actionsCount, transitionProbabilities, 9, "0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.5 0.0 0.0 0.0 0.5 0.0 0.0 0.0 0.0 0.0 0.0 0.0".split("\\s"));
	    setTwithStar(statesCount, actionsCount, transitionProbabilities, 10, "0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.5 0.0 0.0 0.0 0.5 0.0 0.0 0.0 0.0 0.0 0.0 0.0".split("\\s"));
	    setTwithStar(statesCount, actionsCount, transitionProbabilities, 11, "0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.5 0.0 0.0 0.0 0.5 0.0 0.0 0.0 0.0 0.0 0.0 0.0".split("\\s"));



	            String os = "O: * : 0 \n" +
					    "0.009024 0.081225 0.000474 0.004275 0.000474 0.004275 0.000024 0.000225 0.081225 0.731024 0.004275 0.038475 0.004275 0.038475 0.000225 0.002030 0.0\n"+
					    "O: * : 1 \n"+
					    "0.009024 0.081225 0.081225 0.731024 0.000474 0.004275 0.004275 0.038475 0.000474 0.004275 0.004275 0.038475 0.000024 0.000225 0.000225 0.002030  0.0\n"+
					    "O: * : 2 \n"+
					    "0.009024 0.000474 0.081225 0.004275 0.081225 0.004275 0.731024 0.038475 0.000474 0.000024 0.004275 0.000225 0.004275 0.000225 0.038475 0.002030  0.0\n"+
					    "O: * : 3 \n"+
					    "0.009024 0.000474 0.000474 0.000024 0.081225 0.004275 0.004275 0.000225 0.081225 0.004275 0.004275 0.000225 0.731024 0.038475 0.038475 0.002030  0.0\n"+
					    "O: * : 4 \n"+
					    "0.085737 0.004512 0.004512 0.000237 0.004512 0.000237 0.000237 0.000012 0.771637 0.040612 0.040612 0.002137 0.040612 0.002137 0.002137 0.000120  0.0\n"+
					    "O: * : 5 \n"+
					    "0.085737 0.771637 0.004512 0.040612 0.004512 0.040612 0.000237 0.002137 0.004512 0.040612 0.000237 0.002137 0.000237 0.002137 0.000012 0.000120  0.0\n"+
					    "O: * : 6 \n"+
					    "0.085737 0.004512 0.771637 0.040612 0.004512 0.000237 0.040612 0.002137 0.004512 0.000237 0.040612 0.002137 0.000237 0.000012 0.002137 0.000120  0.0\n"+
					    "O: * : 7 \n"+
					    "0.085737 0.004512 0.004512 0.000237 0.771637 0.040612 0.040612 0.002137 0.004512 0.000237 0.000237 0.000012 0.040612 0.002137 0.002137 0.000120  0.0\n"+
					    "O: * : 8 \n"+
					    "0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0\n"+
					    "O: * : 9 \n"+
					    "0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0\n"+
					    "O: * : 10 \n"+
					    "0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0\n"+
					    "O: * : 11 \n"+
					    "0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0\n"+
					    "O: * : 12 \n"+
					    "0.085737 0.004512 0.004512 0.000237 0.004512 0.000237 0.000237 0.000012 0.771637 0.040612 0.040612 0.002137 0.040612 0.002137 0.002137 0.000120  0.0\n"+
					    "O: * : 13 \n"+
					    "0.085737 0.771637 0.004512 0.040612 0.004512 0.040612 0.000237 0.002137 0.004512 0.040612 0.000237 0.002137 0.000237 0.002137 0.000012 0.000120  0.0\n"+
					    "O: * : 14 \n"+
					    "0.085737 0.004512 0.771637 0.040612 0.004512 0.000237 0.040612 0.002137 0.004512 0.000237 0.040612 0.002137 0.000237 0.000012 0.002137 0.000120  0.0\n"+
					    "O: * : 15 \n"+
					    "0.085737 0.004512 0.004512 0.000237 0.771637 0.040612 0.040612 0.002137 0.004512 0.000237 0.000237 0.000012 0.040612 0.002137 0.002137 0.000120  0.0\n"+
					    "O: * : 16 \n"+
					    "0.009024 0.000474 0.000474 0.000024 0.081225 0.004275 0.004275 0.000225 0.081225 0.004275 0.004275 0.000225 0.731024 0.038475 0.038475 0.002030  0.0\n"+
					    "O: * : 17 \n"+
					    "0.009024 0.081225 0.000474 0.004275 0.000474 0.004275 0.000024 0.000225 0.081225 0.731024 0.004275 0.038475 0.004275 0.038475 0.000225 0.002030  0.0\n"+
					    "O: * : 18 \n"+
					    "0.009024 0.081225 0.081225 0.731024 0.000474 0.004275 0.004275 0.038475 0.000474 0.004275 0.004275 0.038475 0.000024 0.000225 0.000225 0.002030  0.0\n"+
					    "O: * : 19 \n"+
					    "0.009024 0.000474 0.081225 0.004275 0.081225 0.004275 0.731024 0.038475 0.000474 0.000024 0.004275 0.000225 0.004275 0.000225 0.038475 0.002030  0.0\n"+
					    "O: * : 20 \n"+
					    "0.009024 0.081225 0.081225 0.731024 0.000474 0.004275 0.004275 0.038475 0.000474 0.004275 0.004275 0.038475 0.000024 0.000225 0.000225 0.002030  0.0\n"+
					    "O: * : 21 \n"+
					    "0.009024 0.000474 0.081225 0.004275 0.081225 0.004275 0.731024 0.038475 0.000474 0.000024 0.004275 0.000225 0.004275 0.000225 0.038475 0.002030  0.0\n"+
					    "O: * : 22 \n"+
					    "0.009024 0.000474 0.000474 0.000024 0.081225 0.004275 0.004275 0.000225 0.081225 0.004275 0.004275 0.000225 0.731024 0.038475 0.038475 0.002030  0.0\n"+
					    "O: * : 23 \n"+
					    "0.009024 0.081225 0.000474 0.004275 0.000474 0.004275 0.000024 0.000225 0.081225 0.731024 0.004275 0.038475 0.004275 0.038475 0.000225 0.002030  0.0\n"+
					    "O: * : 24 \n"+
					    "0.009024 0.000474 0.081225 0.004275 0.081225 0.004275 0.731024 0.038475 0.000474 0.000024 0.004275 0.000225 0.004275 0.000225 0.038475 0.002030  0.0\n"+
					    "O: * : 25 \n"+
					    "0.009024 0.000474 0.000474 0.000024 0.081225 0.004275 0.004275 0.000225 0.081225 0.004275 0.004275 0.000225 0.731024 0.038475 0.038475 0.002030  0.0\n"+
					    "O: * : 26 \n"+
					    "0.009024 0.081225 0.000474 0.004275 0.000474 0.004275 0.000024 0.000225 0.081225 0.731024 0.004275 0.038475 0.004275 0.038475 0.000225 0.002030  0.0\n"+
					    "O: * : 27 \n"+
					    "0.009024 0.081225 0.081225 0.731024 0.000474 0.004275 0.004275 0.038475 0.000474 0.004275 0.004275 0.038475 0.000024 0.000225 0.000225 0.002030  0.0\n"+
					    "O: * : 28 \n"+
					    "0.009024 0.081225 0.081225 0.731024 0.000474 0.004275 0.004275 0.038475 0.000474 0.004275 0.004275 0.038475 0.000024 0.000225 0.000225 0.002030  0.0\n"+
					    "O: * : 29 \n"+
					    "0.009024 0.000474 0.081225 0.004275 0.081225 0.004275 0.731024 0.038475 0.000474 0.000024 0.004275 0.000225 0.004275 0.000225 0.038475 0.002030  0.0\n"+
					    "O: * : 30 \n"+
					    "0.009024 0.000474 0.000474 0.000024 0.081225 0.004275 0.004275 0.000225 0.081225 0.004275 0.004275 0.000225 0.731024 0.038475 0.038475 0.002030  0.0\n"+
					    "O: * : 31 \n"+
					    "0.009024 0.081225 0.000474 0.004275 0.000474 0.004275 0.000024 0.000225 0.081225 0.731024 0.004275 0.038475 0.004275 0.038475 0.000225 0.002030  0.0\n"+
					    "O: * : 32 \n"+
					    "0.009024 0.000474 0.081225 0.004275 0.081225 0.004275 0.731024 0.038475 0.000474 0.000024 0.004275 0.000225 0.004275 0.000225 0.038475 0.002030  0.0\n"+
					    "O: * : 33 \n"+
					    "0.009024 0.000474 0.000474 0.000024 0.081225 0.004275 0.004275 0.000225 0.081225 0.004275 0.004275 0.000225 0.731024 0.038475 0.038475 0.002030  0.0\n"+
					    "O: * : 34 \n"+
					    "0.009024 0.081225 0.000474 0.004275 0.000474 0.004275 0.000024 0.000225 0.081225 0.731024 0.004275 0.038475 0.004275 0.038475 0.000225 0.002030  0.0\n"+
					    "O: * : 35 \n"+
					    "0.009024 0.081225 0.081225 0.731024 0.000474 0.004275 0.004275 0.038475 0.000474 0.004275 0.004275 0.038475 0.000024 0.000225 0.000225 0.002030  0.0";

	    String[] split = os.split("\n");
	    for (int i = 0; i < split.length; i=i+2) {
		    int s_ = Integer.parseInt(split[i].split(":")[2].trim());
		    String[] os_split = split[i + 1].split("\\s+");
		    for ( int a=0; a<actionsCount; a++ ) {
			    for (int o = 0; o < observationsCount; o++) {
				    observationProbabilities[a][s_][o] = Double.parseDouble(os_split[o]);
			    }
		    }
	    }

	    String rews = "R: * : * : 0 : * -1.000000\n" +
					    "R: * : * : 1 : * -1.000000\n" +
					    "R: * : * : 2 : * -1.000000\n" +
					    "R: * : * : 3 : * -1.000000\n" +
					    "R: * : * : 8 : * 1.000000\n" +
					    "R: * : * : 9 : * 1.000000\n" +
					    "R: * : * : 10 : * 1.000000\n" +
					    "R: * : * : 11 : * 1.000000\n" +
					    "R: * : * : 16 : * -1.000000\n" +
					    "R: * : * : 17 : * -1.000000\n" +
					    "R: * : * : 18 : * -1.000000\n" +
					    "R: * : * : 19 : * -1.000000";
	    String[] rew_split = rews.split("\n");
	    Iterator<String> rew_iter = Arrays.asList(rew_split).iterator();

	    while(rew_iter.hasNext()){
		    String next_rew = rew_iter.next();
		    String[] rew_elem = next_rew.split("([ :]*\\s+)|(\\s+[ :]*)");
		    int s_ = Integer.parseInt(rew_elem[3]);
		    for (int a = 0; a < actionsCount; a++) {
			    for (int s = 0; s < statesCount; s++) {
				    for (int o = 0; o < observationsCount; o++) {
							rewards[a][s][s_][o] = Double.parseDouble(rew_elem[5].trim());
				    }
			    }
		    }
	    }



	    initBelief = Arrays.stream("0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.5 0.0 0.0 0.0 0.5 0.0 0.0 0.0 0.0 0.0 0.0 0.0".split("\\s+"))
					    .mapToDouble(a -> Double.parseDouble(a))
					    .toArray();

	    return new POMDPProblem(stateNames, stateNameToIndex,
					    actionNames, actionNameToIndex, transitionProbabilities,
					    observationNames, observationNameToIndex, observationProbabilities,
					    rewards, discount, initBelief);
    }

	private void setTwithStar(int statesCount, int actionsCount, double[][][] transitionProbabilities, int fromState, String[] split) {
		for ( int a=0; a<actionsCount; a++ ) {
			for (int s_ = 0; s_ < statesCount; s_++) {
				transitionProbabilities[a][fromState][s_] = Double.parseDouble(split[s_]);
			}
		}
	}
}
